<spring:beans xmlns="http://membrane-soa.org/proxies/1/"
				  xmlns:spring="http://www.springframework.org/schema/beans"
				  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
				  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
							http://membrane-soa.org/proxies/1/ http://membrane-soa.org/schemas/proxies-1.xsd">

		<!-- the API configuration is made available through an etcd registry -->
		<etcdRegistryApiConfig url="http://localhost:4001"/>

		<router>
			<transport>
				<ruleMatching />
				<exchangeStore />
				<dispatching />

				<!-- API Management is enabled with the following block -->
				<apiManagement>
					<!-- A rate limiter is added -->
					<amRateLimiter/>
					<!-- A data transfer size limiter is added -->
					<amQuota />
				</apiManagement>

				<reverseProxying />
				<userFeature />
				<httpClient />
			</transport>


			<serviceProxy port="8080" name="Tea Shop Sample API">
				<path>/shop</path>
				<target host="api.predic8.de" port="443"/>
			</serviceProxy>
			
			<soapProxy port="8080" wsdl="http://www.thomas-bayer.com/axis2/services/BLZService?wsdl">
			</soapProxy>

			<serviceProxy port="9001" name="AdminConsole">
				<adminConsole/>
			</serviceProxy>

		</router>

	</spring:beans>
